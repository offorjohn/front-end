import{u as gt,E as mt,F as ft,G as ht,r as x,o as $,g as R,h as C,i as P,_ as d,k as N,b as w,j as e,d as H,f as E,T,w as xt,D as vt,H as It,B as bt,I as Pt,J as Lt,K as jt,S as M,N as O,O as yt,Q as Ct,W as Ft}from"./index-2e54d78d.js";import{a as Tt}from"./axios-6d17da38.js";import{C as $t}from"./Card-0c583ff1.js";import{F as Rt,I as wt}from"./InputLabel-db508290.js";import{a as Q,f as Et,F as St,b as X,S as Bt,I as zt,c as Mt,O as Nt}from"./Select-86d4c7a2.js";import"./isMuiElement-d03b9168.js";function Ht({props:o,name:t}){return gt({props:o,name:t,defaultTheme:mt,themeId:ft})}function At(){const o=ht();return x.useMemo(()=>({back:()=>o(-1),forward:()=>o(1),reload:()=>window.location.reload(),push:n=>o(n),replace:n=>o(n,{replace:!0})}),[o])}function Wt(o){return R("MuiFormHelperText",o)}const kt=$("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),D=kt;var V;const Ut=["children","className","component","disabled","error","filled","focused","margin","required","variant"],_t=o=>{const{classes:t,contained:n,size:i,disabled:s,error:r,filled:c,focused:u,required:g}=o,a={root:["root",s&&"disabled",r&&"error",i&&`size${P(i)}`,n&&"contained",u&&"focused",c&&"filled",g&&"required"]};return E(a,Wt,t)},qt=C("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:n}=o;return[t.root,n.size&&t[`size${P(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:o,ownerState:t})=>d({color:(o.vars||o).palette.text.secondary},o.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${D.disabled}`]:{color:(o.vars||o).palette.text.disabled},[`&.${D.error}`]:{color:(o.vars||o).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),Ot=x.forwardRef(function(t,n){const i=N({props:t,name:"MuiFormHelperText"}),{children:s,className:r,component:c="p"}=i,u=w(i,Ut),g=Q(),a=Et({props:i,muiFormControl:g,states:["variant","size","disabled","error","filled","focused","required"]}),p=d({},i,{component:c,contained:a.variant==="filled"||a.variant==="outlined",variant:a.variant,size:a.size,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),m=_t(p);return e.jsx(qt,d({as:c,ownerState:p,className:H(m.root,r),ref:n},u,{children:s===" "?V||(V=e.jsx("span",{className:"notranslate",children:"​"})):s}))}),Dt=Ot;function Vt(o){return R("MuiInputAdornment",o)}const Gt=$("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),G=Gt;var J;const Jt=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Kt=(o,t)=>{const{ownerState:n}=o;return[t.root,t[`position${P(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},Qt=o=>{const{classes:t,disablePointerEvents:n,hiddenLabel:i,position:s,size:r,variant:c}=o,u={root:["root",n&&"disablePointerEvents",s&&`position${P(s)}`,c,i&&"hiddenLabel",r&&`size${P(r)}`]};return E(u,Vt,t)},Xt=C("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Kt})(({theme:o,ownerState:t})=>d({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(o.vars||o).palette.action.active},t.variant==="filled"&&{[`&.${G.positionStart}&:not(.${G.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),Yt=x.forwardRef(function(t,n){const i=N({props:t,name:"MuiInputAdornment"}),{children:s,className:r,component:c="div",disablePointerEvents:u=!1,disableTypography:g=!1,position:a,variant:p}=i,m=w(i,Jt),f=Q()||{};let h=p;p&&f.variant,f&&!h&&(h=f.variant);const l=d({},i,{hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:u,position:a,variant:h}),I=Qt(l);return e.jsx(St.Provider,{value:null,children:e.jsx(Xt,d({as:c,ownerState:l,className:H(I.root,r),ref:n},m,{children:typeof s=="string"&&!g?e.jsx(T,{color:"text.secondary",children:s}):e.jsxs(x.Fragment,{children:[a==="start"?J||(J=e.jsx("span",{className:"notranslate",children:"​"})):null,s]})}))})}),Zt=Yt;function to(o){return R("MuiTextField",o)}$("MuiTextField",["root"]);const oo=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],eo={standard:zt,filled:Mt,outlined:Nt},no=o=>{const{classes:t}=o;return E({root:["root"]},to,t)},io=C(Rt,{name:"MuiTextField",slot:"Root",overridesResolver:(o,t)=>t.root})({}),so=x.forwardRef(function(t,n){const i=N({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:r=!1,children:c,className:u,color:g="primary",defaultValue:a,disabled:p=!1,error:m=!1,FormHelperTextProps:f,fullWidth:h=!1,helperText:l,id:I,InputLabelProps:v,inputProps:Y,InputProps:Z,inputRef:tt,label:j,maxRows:ot,minRows:et,multiline:A=!1,name:nt,onBlur:it,onChange:st,onFocus:at,placeholder:rt,required:W=!1,rows:lt,select:S=!1,SelectProps:B,type:dt,value:k,variant:F="outlined"}=i,ct=w(i,oo),U=d({},i,{autoFocus:r,color:g,disabled:p,error:m,fullWidth:h,multiline:A,required:W,select:S,variant:F}),ut=no(U),y={};F==="outlined"&&(v&&typeof v.shrink<"u"&&(y.notched=v.shrink),y.label=j),S&&((!B||!B.native)&&(y.id=void 0),y["aria-describedby"]=void 0);const L=X(I),z=l&&L?`${L}-helper-text`:void 0,_=j&&L?`${L}-label`:void 0,pt=eo[F],q=e.jsx(pt,d({"aria-describedby":z,autoComplete:s,autoFocus:r,defaultValue:a,fullWidth:h,multiline:A,name:nt,rows:lt,maxRows:ot,minRows:et,type:dt,value:k,id:L,inputRef:tt,onBlur:it,onChange:st,onFocus:at,placeholder:rt,inputProps:Y},y,Z));return e.jsxs(io,d({className:H(ut.root,u),disabled:p,error:m,fullWidth:h,ref:n,required:W,color:g,variant:F,ownerState:U},ct,{children:[j!=null&&j!==""&&e.jsx(wt,d({htmlFor:L,id:_},v,{children:j})),S?e.jsx(Bt,d({"aria-describedby":z,id:L,labelId:_,value:k,input:q},B,{children:c})):q,l&&e.jsx(Dt,d({id:z},f,{children:l}))]}))}),K=so;function ao(o){return R("MuiLoadingButton",o)}const ro=$("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),b=ro,lo=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],co=o=>{const{loading:t,loadingPosition:n,classes:i}=o,s={root:["root",t&&"loading"],startIcon:[t&&`startIconLoading${P(n)}`],endIcon:[t&&`endIconLoading${P(n)}`],loadingIndicator:["loadingIndicator",t&&`loadingIndicator${P(n)}`]},r=E(s,ao,i);return d({},i,r)},uo=o=>o!=="ownerState"&&o!=="theme"&&o!=="sx"&&o!=="as"&&o!=="classes",po=C(xt,{shouldForwardProp:o=>uo(o)||o==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(o,t)=>[t.root,t.startIconLoadingStart&&{[`& .${b.startIconLoadingStart}`]:t.startIconLoadingStart},t.endIconLoadingEnd&&{[`& .${b.endIconLoadingEnd}`]:t.endIconLoadingEnd}]})(({ownerState:o,theme:t})=>d({[`& .${b.startIconLoadingStart}, & .${b.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},o.loadingPosition==="center"&&{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${b.loading}`]:{color:"transparent"}},o.loadingPosition==="start"&&o.fullWidth&&{[`& .${b.startIconLoadingStart}, & .${b.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginRight:-8}},o.loadingPosition==="end"&&o.fullWidth&&{[`& .${b.startIconLoadingStart}, & .${b.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginLeft:-8}})),go=C("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(o,t)=>{const{ownerState:n}=o;return[t.loadingIndicator,t[`loadingIndicator${P(n.loadingPosition)}`]]}})(({theme:o,ownerState:t})=>d({position:"absolute",visibility:"visible",display:"flex"},t.loadingPosition==="start"&&(t.variant==="outlined"||t.variant==="contained")&&{left:t.size==="small"?10:14},t.loadingPosition==="start"&&t.variant==="text"&&{left:6},t.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(o.vars||o).palette.action.disabled},t.loadingPosition==="end"&&(t.variant==="outlined"||t.variant==="contained")&&{right:t.size==="small"?10:14},t.loadingPosition==="end"&&t.variant==="text"&&{right:6},t.loadingPosition==="start"&&t.fullWidth&&{position:"relative",left:-10},t.loadingPosition==="end"&&t.fullWidth&&{position:"relative",right:-10})),mo=x.forwardRef(function(t,n){const i=Ht({props:t,name:"MuiLoadingButton"}),{children:s,disabled:r=!1,id:c,loading:u=!1,loadingIndicator:g,loadingPosition:a="center",variant:p="text"}=i,m=w(i,lo),f=X(c),h=g??e.jsx(vt,{"aria-labelledby":f,color:"inherit",size:16}),l=d({},i,{disabled:r,loading:u,loadingIndicator:h,loadingPosition:a,variant:p}),I=co(l),v=u?e.jsx(go,{className:I.loadingIndicator,ownerState:l,children:h}):null;return e.jsxs(po,d({disabled:r||u,id:f,ref:n},m,{variant:p,classes:I,ownerState:l,children:[l.loadingPosition==="end"?s:v,l.loadingPosition==="end"?v:s]}))}),fo=mo;function ho(){const o=It(),t=At(),[n,i]=x.useState(""),[s,r]=x.useState(""),[c,u]=x.useState(!1),[g,a]=x.useState(!1),[p,m]=x.useState(""),[,f]=x.useState(null),h=async l=>{l.preventDefault(),a(!0),m("");try{const I={method:"POST",url:"https://otpninja.com/api/v1/auth",data:{username:n,password:s}},v=await Tt.request(I);f(v.data),localStorage.setItem("loginResponse",JSON.stringify(v.data)),localStorage.setItem("email",n),localStorage.setItem("password",s),v.data.token?t.push("/"):m("Login failed. Please check your credentials.")}catch{m("An error occurred. Please try again.")}finally{a(!1)}};return e.jsxs(bt,{sx:{...Pt({color:Lt(o.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(jt,{sx:{position:"fixed",top:{xs:40,md:64},left:{xs:16,md:24}}}),e.jsx(M,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs($t,{sx:{p:5,width:1,maxWidth:420,boxShadow:o.shadows[5]},children:[e.jsx(T,{variant:"h4",children:"Sign in to OtpNinja"}),e.jsxs(T,{variant:"body2",sx:{mt:2,mb:5},children:["Don’t have an account?",e.jsx(O,{href:"https://otpninja.com/register",variant:"subtitle2",sx:{ml:.5},children:"Get started"})]}),e.jsxs("form",{onSubmit:h,children:[e.jsxs(M,{spacing:3,children:[e.jsx(K,{name:"user",label:"Username",value:n,onChange:l=>i(l.target.value),fullWidth:!0,margin:"normal"}),e.jsx(K,{name:"password",label:"Password",type:c?"text":"password",value:s,onChange:l=>r(l.target.value),InputProps:{endAdornment:e.jsx(Zt,{position:"end",children:e.jsx(yt,{onClick:()=>u(!c),edge:"end",children:e.jsx(Ct,{icon:c?"eva:eye-fill":"eva:eye-off-fill"})})})},fullWidth:!0,margin:"normal"})]}),e.jsx(M,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3},children:e.jsx(O,{href:"https://otpninja.com/forgot",variant:"subtitle2",underline:"hover",target:"_blank",rel:"noopener noreferrer",children:"Forgot password?"})}),e.jsx(fo,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",loading:g,children:"Login"}),p&&e.jsx(T,{color:"error",children:p})]})]})})]})}function jo(){return e.jsxs(e.Fragment,{children:[e.jsx(Ft,{children:e.jsx("title",{children:" OTPNINJA - Login "})}),e.jsx(ho,{})]})}export{jo as default};
